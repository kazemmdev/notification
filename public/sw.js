!function(){var e;self.addEventListener("install",e=>{console.log("install",e.target),self.skipWaiting()}),null===(e=self)||void 0===e||e.addEventListener("activate",function(e){var n,t;console.log("activate",e.target),null==e||e.waitUntil(null===(t=caches)||void 0===t?void 0:null===(n=t.keys())||void 0===n?void 0:n.then(function(e){var n;return Promise.all(null==e?void 0:null===(n=e.filter(function(){}))||void 0===n?void 0:n.map(function(e){return caches.delete(e)}))}))}),self.addEventListener("message",e=>{console.log("message",e),e.data&&"SKIP_WAITING"===e.data.type&&self.skipWaiting()}),self.addEventListener("fetch",e=>{e.request.url.includes("/_next/")&&e.respondWith(fetch(e.request))}),self.addEventListener("push",e=>{if(console.log("Push event received:",e),!(null==e?void 0:e.data)){console.log("No data in the push event.");return}let n=e.data.json();console.log("Push payload:",n);let{body:t,icon:o,image:i,badge:l,url:s,title:a}=n;e.waitUntil(self.registration.showNotification(a||"Default Title",{body:t,icon:o,image:i,badge:l,data:{url:s}}).then(()=>{console.log("Notification displayed."),console.log("Push event received:",e)}).catch(e=>console.error("Error showing notification:",e)))}),self.addEventListener("notificationclick",e=>{console.log("Notification clicked:",e),e.notification.close(),e.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then(n=>{let t=e.notification.data.url;if(!t){console.log("No URL found in notification data.");return}for(let e of n)if(e.url===t&&"focus"in e)return console.log("Focusing existing client."),e.focus();if(clients.openWindow)return console.log("Opening a new window:",t),clients.openWindow(t)}))})}();